<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:rkw="http://typo3.org/ns/RKW/RkwCompetition/ViewHelpers"
    data-namespace-typo3-fluid="true">

    <f:if condition="{register.competition}">

        <div class="space-between">
            <div class="btn-list">

                <!-- show competition -->
                <f:link.action
                    pageUid="{settings.competitionPid}"
                    target="_blank"
                    class="btn btn--primary"
                    controller="Competition"
                    action="show"
                    arguments="{competition : register.competition}"
                >
                    <f:translate key="tx_rkwcompetition_fluid.partials_participant_options.competitionShow" />
                </f:link.action>


                <!-- ViewHelper returns true if reg time for competition is still running -->
                <f:if condition="<rkw:isDateWithinDeadline date='{register.competition.registerEnd}' />">

                    <f:if condition="<rkw:registerStatus register='{register}' /> < 300">
                        <f:then>
                            <f:link.action class="btn btn--primary" controller="Upload" action="edit" arguments="{register : register}">
                                <f:translate key="tx_rkwcompetition_fluid.partials_participant_options.registerUpload" />
                            </f:link.action>

                            <f:link.action class="btn btn--secondary" controller="Register" action="edit" arguments="{register : register}">
                                <f:translate key="tx_rkwcompetition_fluid.partials_participant_options.registerEdit" />
                            </f:link.action>

                            <f:if condition="<rkw:isDateWithinDeadline date='{register.competition.fileRemovalEnd}' />">
                                <f:link.action class="btn btn--secondary" controller="Register" action="deleteQuestion" arguments="{register : register}">
                                    <f:translate key="tx_rkwcompetition_fluid.partials_participant_options.registerDelete" />
                                </f:link.action>
                            </f:if>

                            <f:link.action
                                    style="margin-left: auto;"
                                    class="btn btn--primary"
                                    controller="Register"
                                    action="submitQuestion"
                                    arguments="{register : register}"
                            >
                                Einreichen
                            </f:link.action>
                        </f:then>
                        <f:else>
                            <p>Keine Aktionen mehr m√∂glich</p>
                        </f:else>
                    </f:if>

                </f:if>

            </div>
    </f:if>
</html>
